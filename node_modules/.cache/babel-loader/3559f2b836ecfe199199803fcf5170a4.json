{"remainingRequest":"F:\\mothol-task\\node_modules\\babel-loader\\lib\\index.js!F:\\mothol-task\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\mothol-task\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\mothol-task\\src\\pages\\Users.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\mothol-task\\src\\pages\\Users.vue","mtime":1606285732847},{"path":"F:\\mothol-task\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\mothol-task\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\mothol-task\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\mothol-task\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiRjovbW90aG9sLXRhc2svbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgdXNlcnMgZnJvbSAiLi4vYXBpL3VzZXJzIjsKaW1wb3J0IEFwcFNlbGVjdDIgZnJvbSAiLi4vY29tcG9uZW50cy9BcHBTZWxlY3QyIjsKaW1wb3J0ICQgZnJvbSAianF1ZXJ5IjsKaW1wb3J0IEFkZEVkaXRVc2VyIGZyb20gIi4uL2NvbXBvbmVudHMvQWRkRWRpdFVzZXIiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogInVzZXJzIiwKICBjb21wb25lbnRzOiB7CiAgICBBZGRFZGl0VXNlcjogQWRkRWRpdFVzZXIsCiAgICBBcHBTZWxlY3QyOiBBcHBTZWxlY3QyCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgbGlzdDogWydkZXBhcnRtZW50cycsICdwb3NpdGlvbnMnLCAnYnJhbmRzJywgJ2NvdW50cmllcycsICdyb2xlcyddLAogICAgICBmaWx0ZXJMaXN0czogewogICAgICAgIGRlcGFydG1lbnRzOiBbXSwKICAgICAgICBwb3NpdGlvbnM6IFtdLAogICAgICAgIGJyYW5kczogW10sCiAgICAgICAgY291bnRyaWVzOiBbXSwKICAgICAgICByb2xlczogW10sCiAgICAgICAgc3RhdHVzOiBbewogICAgICAgICAgbmFtZTogJ0FjdGl2ZScsCiAgICAgICAgICBpZDogMQogICAgICAgIH0sIHsKICAgICAgICAgIG5hbWU6ICdJbmFjdGl2ZScsCiAgICAgICAgICBpZDogMAogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGZpbHRlcjogewogICAgICAgIHBhZ2U6IDEsCiAgICAgICAgbGVuZ3RoOiAxMCwKICAgICAgICByb2xlOiAnJywKICAgICAgICBkZXBhcnRtZW50OiAnJywKICAgICAgICBwb3NpdGlvbjogJycsCiAgICAgICAgYnJhbmQ6ICcnLAogICAgICAgIGNvdW50cnk6ICcnLAogICAgICAgIG5hdGlvbmFsaXR5OiAnJywKICAgICAgICBhY3RpdmU6ICcnLAogICAgICAgIHRleHRfc2VhcmNoOiAnJwogICAgICB9LAogICAgICB1c2Vyczoge30sCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBsYXN0UGFnZTogbnVsbCwKICAgICAgdXNlckluQWN0aW9uOiBmYWxzZSwKICAgICAgdXNlclRvRWRpdDogbnVsbCwKICAgICAgbG9hZGluZzogZmFsc2UKICAgIH07CiAgfSwKICB3YXRjaDogewogICAgJ2ZpbHRlcic6IHsKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaGFuZGxlcjogJ2dldFVzZXJzJwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgdGhpcy5saXN0Lm1hcChmdW5jdGlvbiAobGkpIHsKICAgICAgdXNlcnMuZ2V0RmlsdGVyTGlzdChsaSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMuZmlsdGVyTGlzdHNbbGldID0gcmVzOwogICAgICB9KTsKICAgIH0pOwogICAgLyoqCiAgICAgKiBJbml0aWFsaXplIHBhZ2luYXRpb24gc2VsZWN0CiAgICAgKi8KCiAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAkKCcucGFnaW5hdGlvbi1vcHRpb25zJykuc2VsZWN0Mih7CiAgICAgIHdpZHRoOiAncmVzb2x2ZScsCiAgICAgIHBsYWNlaG9sZGVyOiAnUGxlYXNlIHNlbGVjdCBvcHRpb24nCiAgICB9KS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkgewogICAgICB0aGF0LmZpbHRlci5wYWdlID0gJCgnLnBhZ2luYXRpb24tb3B0aW9ucycpLnNlbGVjdDIoJ3ZhbCcpOwogICAgfSk7CiAgICAvKioKICAgICAqIEdldCBhbGwgdXNlcnMKICAgICAqLwoKICAgIHRoaXMuZ2V0VXNlcnMoKTsKICAgICQoJyN1c2VyRm9ybScpLm9uKCdoaWRkZW4uYnMubW9kYWwnLCBmdW5jdGlvbiAoKSB7CiAgICAgIHRoYXQudXNlckluQWN0aW9uID0gZmFsc2U7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldFVzZXJzOiBmdW5jdGlvbiBnZXRVc2VycygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLiRodHRwLnBvc3QoJ2h0dHBzOi8vd3d3LmtlZGVuLWVkdS5jb20va250cmEvYXBpL3VzZXJzL2xpc3QnLCBfb2JqZWN0U3ByZWFkKHt9LCB0aGlzLmZpbHRlciksIHsKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAnQXV0aG9yaXphdGlvbic6ICdCZWFyZXIgJyArIHRoaXMuJHN0b3JlLnN0YXRlLnRva2VuCiAgICAgICAgfQogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwogICAgICAgIF90aGlzMi51c2VycyA9IHJlcy5kYXRhLmRhdGEuZGF0YTsKICAgICAgICBfdGhpczIuY3VycmVudFBhZ2UgPSByZXMuZGF0YS5kYXRhLmRhdGEuY3VycmVudF9wYWdlOwogICAgICAgIF90aGlzMi5sYXN0UGFnZSA9IHJlcy5kYXRhLmRhdGEuZGF0YS5sYXN0X3BhZ2U7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKgogICAgICogTWV0aG9kIGludm9rZWQgd2hlbiB1c2VyIGZvcm0gaXMgc3VibWl0dGVkIHN1Y2Nlc3NmdWxseQogICAgICovCiAgICB1c2VyU2F2ZWQ6IGZ1bmN0aW9uIHVzZXJTYXZlZCgpIHsKICAgICAgJCgnI3VzZXJGb3JtJykubW9kYWwoJ3RvZ2dsZScpOwogICAgICB0aGlzLnVzZXJUb0VkaXQgPSBudWxsOwogICAgICB0aGlzLmdldFVzZXJzKCk7CiAgICB9LAoKICAgIC8qKgogICAgICogRWRpdFVzZXIKICAgICAqLwogICAgRWRpdFVzZXI6IGZ1bmN0aW9uIEVkaXRVc2VyKHVzZXIpIHsKICAgICAgdGhpcy51c2VyVG9FZGl0ID0gdXNlcjsKICAgICAgdGhpcy51c2VySW5BY3Rpb24gPSB0cnVlOwogICAgfSwKICAgIGNoYW5nZVN0YXR1czogZnVuY3Rpb24gY2hhbmdlU3RhdHVzKGlkKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdXNlcnMuY2hhbmdlU3RhdHVzKGlkKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczMuZ2V0VXNlcnMoKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["Users.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"card m-2\">\r\n            <div class=\"card-body\">\r\n                Filter:\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-6\">\r\n                        <!-- departments -->\r\n                        <div class=\"custom-row mb-2\">\r\n                            <label class=\"width-150\">Departments</label>\r\n                            <div class=\"width-200\">\r\n                                <AppSelect2 :options=\"filterLists.departments\" :keys=\"['id', 'name']\"\r\n                                            @optionSelected=\"opt => {filter.department = opt; filter.page = 1}\"></AppSelect2>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!--positions-->\r\n                        <div class=\"custom-row mb-2\">\r\n                            <label class=\"width-150\">Positions</label>\r\n                            <div class=\"width-200\">\r\n                                <AppSelect2 :options=\"filterLists.positions\" :keys=\"['id', 'name']\"\r\n                                            @optionSelected=\"opt => {filter.position = opt; filter.page = 1}\"></AppSelect2>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!--brands-->\r\n                        <div class=\"custom-row mb-2\">\r\n                            <label class=\"width-150\">Brands</label>\r\n                            <div class=\"width-200\">\r\n                                <AppSelect2 :options=\"filterLists.brands\" :keys=\"['id', 'name']\"\r\n                                            @optionSelected=\"opt => {filter.brand = opt; filter.page = 1}\"></AppSelect2>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!--countries-->\r\n                        <div class=\"custom-row mb-2\">\r\n                            <label class=\"width-150\">Countries</label>\r\n                            <div class=\"width-200\">\r\n                                <AppSelect2 :options=\"filterLists.countries\" :keys=\"['id', 'name']\"\r\n                                            @optionSelected=\"opt => {filter.country = opt; filter.page = 1}\"></AppSelect2>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-md-6\">\r\n\r\n                        <!--nationality-->\r\n                        <div class=\"custom-row mb-2\">\r\n                            <label class=\"width-150\">Nationality</label>\r\n                            <div class=\"width-200\">\r\n                                <AppSelect2 :options=\"filterLists.countries\" :keys=\"['id', 'name']\"\r\n                                            @optionSelected=\"opt => {filter.nationality = opt; filter.page = 1}\"></AppSelect2>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!--status-->\r\n                        <div class=\"custom-row mb-2\">\r\n                            <label class=\"width-150\">Status</label>\r\n                            <div class=\"width-200\">\r\n                                <AppSelect2 :options=\"filterLists.status\" :keys=\"['id', 'name']\"\r\n                                            @optionSelected=\"opt => {filter.active = opt; filter.page = 1}\"></AppSelect2>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <!--role-->\r\n                        <div class=\"custom-row mb-2\">\r\n                            <label class=\"width-150\">Role</label>\r\n                            <div class=\"width-200\">\r\n                                <AppSelect2 :options=\"filterLists.roles\" :keys=\"['id', 'name']\"\r\n                                            @optionSelected=\"opt => {filter.role = opt; filter.page = 1}\"></AppSelect2>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!--table to show all users-->\r\n        <div class=\"card m-2\">\r\n            <div class=\"card-body\">\r\n                <div class=\"d-flex mb-2\">\r\n                    <button class=\"btn btn-primary mr-2\"\r\n                            data-toggle=\"modal\"\r\n                            data-target=\"#userForm\"\r\n                            @click=\"userInAction = true\">Add User\r\n                    </button>\r\n                    <export-excel :data=\"users.data\"\r\n                                  class=\"btn btn-dark\"\r\n                                  name=\"Users\">\r\n                        Export\r\n                    </export-excel>\r\n                </div>\r\n\r\n                <div v-show=\"!loading\" class=\"table-responsive\">\r\n                    <table class=\"table table-bordered\">\r\n                        <thead>\r\n                        <tr class=\"bg-info text-white\">\r\n                            <td>Name</td>\r\n                            <td>Phone</td>\r\n                            <td>Department</td>\r\n                            <td>Position</td>\r\n                            <td>Brand</td>\r\n                            <td>Country</td>\r\n                            <td>Nationality</td>\r\n                            <td>Status</td>\r\n                            <td>Edit</td>\r\n                        </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                        <template v-if=\"users.data && users.data.length > 0\">\r\n                            <tr v-for=\"user in users.data\" :key=\"user.id\">\r\n                                <td>{{user.name}}</td>\r\n                                <td>{{user.phone}}</td>\r\n                                <td>{{user.department}}</td>\r\n                                <td>{{user.position}}</td>\r\n                                <td>{{user.brand_name}}</td>\r\n                                <td>{{user.country}}</td>\r\n                                <td>{{user.nationality}}</td>\r\n                                <td>\r\n                                    <span v-if=\"user.active == 1\">Active</span>\r\n                                    <span v-else class=\"text-danger\">Inactive</span>\r\n                                    <a href=\"javascipt:void(0)\" class=\"mx-2\" @click.prevent=\"changeStatus(user.id)\">Change</a>\r\n                                </td>\r\n                                <td>\r\n                                    <a href=\"javascript:void(0)\"\r\n                                       data-toggle=\"modal\"\r\n                                       data-target=\"#userForm\"\r\n                                       @click.prevent=\"EditUser(user)\">\r\n                                        Edit\r\n                                    </a>\r\n                                </td>\r\n                            </tr>\r\n                        </template>\r\n                        <tr v-else class=\"text-center\">\r\n                            <td colspan=\"9\">There are no users to show</td>\r\n                        </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n                <div v-show=\"!loading\">\r\n                    <p>Page {{currentPage}} of {{lastPage}}</p>\r\n                    <div class=\"width-150\">\r\n                        <select class=\"pagination-options\" style=\"width: 100%\">\r\n                            <option value=\"\"></option>\r\n                            <option v-for=\"option in lastPage\" :key=\"option\"\r\n                                    :selected=\"option == currentPage\">{{option}}\r\n                            </option>\r\n                        </select>\r\n                    </div>\r\n                </div>\r\n                <p class=\"text-center\" v-show=\"loading\">Loading ...</p>\r\n            </div>\r\n        </div>\r\n\r\n        <!--add edit form-->\r\n        <div class=\"modal fade\" id=\"userForm\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"userFormLabel\"\r\n             aria-hidden=\"true\">\r\n            <div class=\"modal-dialog\" role=\"document\">\r\n                <AddEditUser v-if=\"userInAction\" :filterLists=\"filterLists\"\r\n                             :userToEdit=\"userToEdit\"\r\n                             @userSaved=\"userSaved\"></AddEditUser>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import users from \"../api/users\";\r\n    import AppSelect2 from \"../components/AppSelect2\";\r\n    import $ from \"jquery\";\r\n    import AddEditUser from \"../components/AddEditUser\";\r\n\r\n    export default {\r\n        name: \"users\",\r\n        components: {AddEditUser, AppSelect2},\r\n        data() {\r\n            return {\r\n                list: ['departments', 'positions', 'brands', 'countries', 'roles'],\r\n                filterLists: {\r\n                    departments: [],\r\n                    positions: [],\r\n                    brands: [],\r\n                    countries: [],\r\n                    roles: [],\r\n                    status: [\r\n                        {\r\n                            name: 'Active',\r\n                            id: 1\r\n                        }, {\r\n                            name: 'Inactive',\r\n                            id: 0\r\n                        }\r\n                    ],\r\n                },\r\n                filter: {\r\n                    page: 1,\r\n                    length: 10,\r\n                    role: '',\r\n                    department: '',\r\n                    position: '',\r\n                    brand: '',\r\n                    country: '',\r\n                    nationality: '',\r\n                    active: '',\r\n                    text_search: ''\r\n                },\r\n                users: {},\r\n                currentPage: 1,\r\n                lastPage: null,\r\n                userInAction: false,\r\n                userToEdit: null,\r\n                loading: false\r\n            }\r\n        },\r\n        watch: {\r\n            'filter': {\r\n                deep: true,\r\n                handler: 'getUsers'\r\n            }\r\n        },\r\n        mounted() {\r\n            this.list.map(li => {\r\n                users.getFilterList(li)\r\n                    .then(res => {\r\n                        this.filterLists[li] = res;\r\n                    })\r\n            });\r\n\r\n            /**\r\n             * Initialize pagination select\r\n             */\r\n            let that = this;\r\n            $('.pagination-options').select2({\r\n                width: 'resolve',\r\n                placeholder: 'Please select option'\r\n            }).on('change', function () {\r\n                that.filter.page = $('.pagination-options').select2('val');\r\n            });\r\n\r\n            /**\r\n             * Get all users\r\n             */\r\n            this.getUsers();\r\n\r\n            $('#userForm').on('hidden.bs.modal', function () {\r\n                that.userInAction = false\r\n            })\r\n        },\r\n        methods: {\r\n            getUsers() {\r\n                this.loading = true;\r\n                this.$http.post('https://www.keden-edu.com/kntra/api/users/list', {\r\n                    ...this.filter\r\n                }, {\r\n                    headers: {\r\n                        'Authorization': 'Bearer ' + this.$store.state.token\r\n                    }\r\n                }).then(res => {\r\n                    this.loading = false;\r\n                    this.users = res.data.data.data;\r\n                    this.currentPage = res.data.data.data.current_page;\r\n                    this.lastPage = res.data.data.data.last_page;\r\n                }).catch(() => this.loading = false)\r\n            },\r\n\r\n            /**\r\n             * Method invoked when user form is submitted successfully\r\n             */\r\n            userSaved() {\r\n                $('#userForm').modal('toggle');\r\n                this.userToEdit = null;\r\n                this.getUsers()\r\n            },\r\n\r\n            /**\r\n             * EditUser\r\n             */\r\n            EditUser(user) {\r\n                this.userToEdit = user;\r\n                this.userInAction = true\r\n            },\r\n\r\n            changeStatus(id) {\r\n                users.changeStatus(id)\r\n                    .then(() => {\r\n                        this.getUsers()\r\n                    })\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"sourceRoot":"src/pages"}]}