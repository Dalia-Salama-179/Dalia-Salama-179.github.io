{"remainingRequest":"F:\\mothol-task\\node_modules\\thread-loader\\dist\\cjs.js!F:\\mothol-task\\node_modules\\babel-loader\\lib\\index.js!F:\\mothol-task\\node_modules\\eslint-loader\\index.js??ref--13-0!F:\\mothol-task\\src\\router\\index.js","dependencies":[{"path":"F:\\mothol-task\\src\\router\\index.js","mtime":1606277421738},{"path":"F:\\mothol-task\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\mothol-task\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\mothol-task\\node_modules\\babel-loader\\lib\\index.js","mtime":315532800000},{"path":"F:\\mothol-task\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgc3RvcmUgZnJvbSAnLi4vc3RvcmUvaW5kZXgnOwppbXBvcnQgTG9naW4gZnJvbSAiLi4vcGFnZXMvTG9naW4iOwppbXBvcnQgdXNlcnMgZnJvbSAiLi4vcGFnZXMvVXNlcnMiOwpWdWUudXNlKFJvdXRlcik7Cgp2YXIgYXV0aEd1YXJkID0gZnVuY3Rpb24gYXV0aEd1YXJkKHRvLCBmcm9tLCBuZXh0KSB7CiAgc3RvcmUuZGlzcGF0Y2goJ3NldFVzZXInKS50aGVuKGZ1bmN0aW9uICh1c2VyKSB7CiAgICBpZiAodXNlcikgewogICAgICBuZXh0KCk7CiAgICB9IGVsc2UgewogICAgICBuZXh0KCcvbG9naW4nKTsKICAgIH0KICB9KTsKfTsKCnZhciBndWVzdEd1YXJkID0gZnVuY3Rpb24gZ3Vlc3RHdWFyZCh0bywgZnJvbSwgbmV4dCkgewogIHN0b3JlLmRpc3BhdGNoKCdzZXRVc2VyJykudGhlbihmdW5jdGlvbiAodXNlcikgewogICAgaWYgKCF1c2VyKSB7CiAgICAgIG5leHQoKTsKICAgIH0gZWxzZSB7CiAgICAgIG5leHQoJy8nKTsKICAgIH0KICB9KTsKfTsKCmV4cG9ydCBkZWZhdWx0IG5ldyBSb3V0ZXIoewogIG1vZGU6ICdoaXN0b3J5JywKICByb3V0ZXM6IFt7CiAgICBwYXRoOiAnL2xvZ2luJywKICAgIGNvbXBvbmVudDogTG9naW4sCiAgICBiZWZvcmVFbnRlcjogZ3Vlc3RHdWFyZAogIH0sIHsKICAgIHBhdGg6ICcvJywKICAgIGNvbXBvbmVudDogdXNlcnMsCiAgICBiZWZvcmVFbnRlcjogYXV0aEd1YXJkCiAgfV0KfSk7"},{"version":3,"sources":["F:/mothol-task/src/router/index.js"],"names":["Vue","Router","store","Login","users","use","authGuard","to","from","next","dispatch","then","user","guestGuard","mode","routes","path","component","beforeEnter"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AACA,OAAOC,KAAP,MAAkB,gBAAlB;AAEAJ,GAAG,CAACK,GAAJ,CAAQJ,MAAR;;AAEA,IAAMK,SAAS,GAAG,SAAZA,SAAY,CAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AAClCP,EAAAA,KAAK,CAACQ,QAAN,CAAe,SAAf,EACKC,IADL,CACU,UAAAC,IAAI,EAAI;AACV,QAAIA,IAAJ,EAAU;AACNH,MAAAA,IAAI;AACP,KAFD,MAEO;AACHA,MAAAA,IAAI,CAAC,QAAD,CAAJ;AACH;AACJ,GAPL;AAQH,CATD;;AAWA,IAAMI,UAAU,GAAG,SAAbA,UAAa,CAACN,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACnCP,EAAAA,KAAK,CAACQ,QAAN,CAAe,SAAf,EACKC,IADL,CACU,UAAAC,IAAI,EAAI;AACV,QAAI,CAACA,IAAL,EAAW;AACPH,MAAAA,IAAI;AACP,KAFD,MAEO;AACHA,MAAAA,IAAI,CAAC,GAAD,CAAJ;AACH;AACJ,GAPL;AAQH,CATD;;AAUA,eAAe,IAAIR,MAAJ,CAAW;AACtBa,EAAAA,IAAI,EAAE,SADgB;AAEtBC,EAAAA,MAAM,EAAC,CACH;AACIC,IAAAA,IAAI,EAAE,QADV;AAEIC,IAAAA,SAAS,EAAEd,KAFf;AAGIe,IAAAA,WAAW,EAAEL;AAHjB,GADG,EAKD;AACEG,IAAAA,IAAI,EAAE,GADR;AAEEC,IAAAA,SAAS,EAAEb,KAFb;AAGEc,IAAAA,WAAW,EAAEZ;AAHf,GALC;AAFe,CAAX,CAAf","sourcesContent":["import Vue from 'vue'\r\nimport Router from 'vue-router'\r\nimport store from '../store/index'\r\nimport Login from \"../pages/Login\";\r\nimport users from \"../pages/Users\";\r\n\r\nVue.use(Router);\r\n\r\nconst authGuard = (to, from, next) => {\r\n    store.dispatch('setUser')\r\n        .then(user => {\r\n            if (user) {\r\n                next()\r\n            } else {\r\n                next('/login')\r\n            }\r\n        })\r\n}\r\n\r\nconst guestGuard = (to, from, next) => {\r\n    store.dispatch('setUser')\r\n        .then(user => {\r\n            if (!user) {\r\n                next()\r\n            } else {\r\n                next('/')\r\n            }\r\n        })\r\n};\r\nexport default new Router({\r\n    mode: 'history',\r\n    routes:[\r\n        {\r\n            path: '/login',\r\n            component: Login,\r\n            beforeEnter: guestGuard\r\n        },{\r\n            path: '/',\r\n            component: users,\r\n            beforeEnter: authGuard\r\n        },\r\n    ]\r\n})"]}]}